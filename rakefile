require 'rake'
require 'spec/rake/spectask'
require 'rcov'

namespace :test do

  desc 'Measures test coverage'
  	Spec::Rake::SpecTask.new('coverage') do |t| 
  	  p File.read('./tmp/test/model.test.rb')	  
  	  t.spec_files = FileList['./tmp/test/model.test.rb']
  	  t.rcov = true
  	  t.rcov_opts = ['--text-report', '--exclude', ".gem,test,Library,#{ENV['GEM_HOME']}", '--sort', 'coverage']
  	  t.spec_opts = ['-cfn']
  	end

end
